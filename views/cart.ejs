<script>
    let totalPrice = 0;
    const data = <%- JSON.stringify(cart) %>;

    data.forEach((bouquet) => {
        totalPrice+=bouquet.price
    })

</script>

<h1 class="mt-4">Cart</h1>
<a href="/users/logout" class="btn btn-secondary">Logout</a>
<a href="/payment" class="btn btn-primary">Proceed to payment</a>

<br>
<br>

<p>
    <label for="amount">Total Price: </label>
    <strong id="amount"> <script>document.getElementById("amount").innerHTML += totalPrice + "$"</script>
    </strong>
</p>
<div id="product">
    <script>
        data.forEach((bouquet) => {
            document.getElementById("product").innerHTML +=
                "<div id=product"+bouquet.idBouquet+">"+
                    "<div class=predefined-article>"+
                        "<div class=predefined-article-img>"+
                            "<img src="+bouquet.image+" alt=flower>"+
                        "</div>"+
                        "<div class=info>"+
                            "<h1 class=article-name>"+
                            bouquet.name +
                            "</h1>" +
                            "<p class=article-description>" +
                            bouquet.description +
                            "</p>" +
                            "<p>" + "Price: "+ bouquet.price + "$" + "</p>" +
                            "<strong>" + bouquet.isCompleted + "</strong>" +
                        "</div>"+
                    "</div>" +
                "</div>"
        })
    </script>
</div>

